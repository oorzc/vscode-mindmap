"use strict";var resvg=(()=>{var B=Object.defineProperty;var j=Object.getOwnPropertyDescriptor;var U=Object.getOwnPropertyNames;var M=Object.prototype.hasOwnProperty;var C=(e,t)=>{for(var n in t)B(e,n,{get:t[n],enumerable:!0})},F=(e,t,n,_)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of U(t))!M.call(e,o)&&o!==n&&B(e,o,{get:()=>t[o],enumerable:!(_=j(t,o))||_.enumerable});return e};var L=e=>F(B({},"__esModule",{value:!0}),e);var K={};C(K,{Resvg:()=>$,initWasm:()=>V});var r,w=new Array(128).fill(void 0);w.push(void 0,null,!0,!1);var p=w.length;function a(e){p===w.length&&w.push(w.length+1);let t=p;return p=w[t],w[t]=e,t}function c(e){return w[e]}function z(e){e<132||(w[e]=p,p=e)}function f(e){let t=c(e);return z(e),t}var y=0,d=null;function v(){return(d===null||d.byteLength===0)&&(d=new Uint8Array(r.memory.buffer)),d}var x=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},D=typeof x.encodeInto=="function"?function(e,t){return x.encodeInto(e,t)}:function(e,t){let n=x.encode(e);return t.set(n),{read:e.length,written:n.length}};function W(e,t,n){if(n===void 0){let b=x.encode(e),u=t(b.length,1)>>>0;return v().subarray(u,u+b.length).set(b),y=b.length,u}let _=e.length,o=t(_,1)>>>0,g=v(),s=0;for(;s<_;s++){let b=e.charCodeAt(s);if(b>127)break;g[o+s]=b}if(s!==_){s!==0&&(e=e.slice(s)),o=n(o,_,_=s+e.length*3,1)>>>0;let b=v().subarray(o+s,o+_),u=D(e,b);s+=u.written}return y=s,o}function k(e){return e==null}var l=null;function i(){return(l===null||l.byteLength===0)&&(l=new Int32Array(r.memory.buffer)),l}var R=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&R.decode();function O(e,t){return e=e>>>0,R.decode(v().subarray(e,e+t))}function P(e,t){if(!(e instanceof t))throw new Error(`expected instance of ${t.name}`);return e.ptr}function N(e,t){try{return e.apply(this,t)}catch(n){r.__wbindgen_exn_store(a(n))}}var h=class e{static __wrap(t){t=t>>>0;let n=Object.create(e.prototype);return n.__wbg_ptr=t,n}__destroy_into_raw(){let t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){let t=this.__destroy_into_raw();r.__wbg_bbox_free(t)}get x(){return r.__wbg_get_bbox_x(this.__wbg_ptr)}set x(t){r.__wbg_set_bbox_x(this.__wbg_ptr,t)}get y(){return r.__wbg_get_bbox_y(this.__wbg_ptr)}set y(t){r.__wbg_set_bbox_y(this.__wbg_ptr,t)}get width(){return r.__wbg_get_bbox_width(this.__wbg_ptr)}set width(t){r.__wbg_set_bbox_width(this.__wbg_ptr,t)}get height(){return r.__wbg_get_bbox_height(this.__wbg_ptr)}set height(t){r.__wbg_set_bbox_height(this.__wbg_ptr,t)}},E=class e{static __wrap(t){t=t>>>0;let n=Object.create(e.prototype);return n.__wbg_ptr=t,n}__destroy_into_raw(){let t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){let t=this.__destroy_into_raw();r.__wbg_renderedimage_free(t)}get width(){return r.renderedimage_width(this.__wbg_ptr)>>>0}get height(){return r.renderedimage_height(this.__wbg_ptr)>>>0}asPng(){try{let o=r.__wbindgen_add_to_stack_pointer(-16);r.renderedimage_asPng(o,this.__wbg_ptr);var t=i()[o/4+0],n=i()[o/4+1],_=i()[o/4+2];if(_)throw f(n);return f(t)}finally{r.__wbindgen_add_to_stack_pointer(16)}}get pixels(){let t=r.renderedimage_pixels(this.__wbg_ptr);return f(t)}},A=class e{static __wrap(t){t=t>>>0;let n=Object.create(e.prototype);return n.__wbg_ptr=t,n}__destroy_into_raw(){let t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){let t=this.__destroy_into_raw();r.__wbg_resvg_free(t)}constructor(t,n,_){try{let m=r.__wbindgen_add_to_stack_pointer(-16);var o=k(n)?0:W(n,r.__wbindgen_malloc,r.__wbindgen_realloc),g=y;r.resvg_new(m,a(t),o,g,k(_)?0:a(_));var s=i()[m/4+0],b=i()[m/4+1],u=i()[m/4+2];if(u)throw f(b);return e.__wrap(s)}finally{r.__wbindgen_add_to_stack_pointer(16)}}get width(){return r.resvg_width(this.__wbg_ptr)}get height(){return r.resvg_height(this.__wbg_ptr)}render(){try{let o=r.__wbindgen_add_to_stack_pointer(-16);r.resvg_render(o,this.__wbg_ptr);var t=i()[o/4+0],n=i()[o/4+1],_=i()[o/4+2];if(_)throw f(n);return E.__wrap(t)}finally{r.__wbindgen_add_to_stack_pointer(16)}}toString(){let t,n;try{let g=r.__wbindgen_add_to_stack_pointer(-16);r.resvg_toString(g,this.__wbg_ptr);var _=i()[g/4+0],o=i()[g/4+1];return t=_,n=o,O(_,o)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(t,n,1)}}innerBBox(){let t=r.resvg_innerBBox(this.__wbg_ptr);return t===0?void 0:h.__wrap(t)}getBBox(){let t=r.resvg_getBBox(this.__wbg_ptr);return t===0?void 0:h.__wrap(t)}cropByBBox(t){P(t,h),r.resvg_cropByBBox(this.__wbg_ptr,t.__wbg_ptr)}imagesToResolve(){try{let o=r.__wbindgen_add_to_stack_pointer(-16);r.resvg_imagesToResolve(o,this.__wbg_ptr);var t=i()[o/4+0],n=i()[o/4+1],_=i()[o/4+2];if(_)throw f(n);return f(t)}finally{r.__wbindgen_add_to_stack_pointer(16)}}resolveImage(t,n){try{let g=r.__wbindgen_add_to_stack_pointer(-16),s=W(t,r.__wbindgen_malloc,r.__wbindgen_realloc),b=y;r.resvg_resolveImage(g,this.__wbg_ptr,s,b,a(n));var _=i()[g/4+0],o=i()[g/4+1];if(o)throw f(_)}finally{r.__wbindgen_add_to_stack_pointer(16)}}};async function q(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(_){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",_);else throw _}let n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}else{let n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}function J(){let e={};return e.wbg={},e.wbg.__wbg_new_d258248ed531ff54=function(t,n){let _=new Error(O(t,n));return a(_)},e.wbg.__wbindgen_memory=function(){let t=r.memory;return a(t)},e.wbg.__wbg_buffer_085ec1f694018c4f=function(t){let n=c(t).buffer;return a(n)},e.wbg.__wbg_newwithbyteoffsetandlength_6da8e527659b86aa=function(t,n,_){let o=new Uint8Array(c(t),n>>>0,_>>>0);return a(o)},e.wbg.__wbindgen_object_drop_ref=function(t){f(t)},e.wbg.__wbg_new_8125e318e6245eed=function(t){let n=new Uint8Array(c(t));return a(n)},e.wbg.__wbg_values_e80af618f92c8649=function(t){let n=c(t).values();return a(n)},e.wbg.__wbg_next_ddb3312ca1c4e32a=function(){return N(function(t){let n=c(t).next();return a(n)},arguments)},e.wbg.__wbg_done_5c1f01fb660d73b5=function(t){return c(t).done},e.wbg.__wbg_value_1695675138684bd5=function(t){let n=c(t).value;return a(n)},e.wbg.__wbg_instanceof_Uint8Array_d8d9cb2b8e8ac1d4=function(t){let n;try{n=c(t)instanceof Uint8Array}catch{n=!1}return n},e.wbg.__wbindgen_string_get=function(t,n){let _=c(n),o=typeof _=="string"?_:void 0;var g=k(o)?0:W(o,r.__wbindgen_malloc,r.__wbindgen_realloc),s=y;i()[t/4+1]=s,i()[t/4+0]=g},e.wbg.__wbg_new_898a68150f225f2e=function(){let t=new Array;return a(t)},e.wbg.__wbindgen_string_new=function(t,n){let _=O(t,n);return a(_)},e.wbg.__wbg_push_ca1c26067ef907ac=function(t,n){return c(t).push(c(n))},e.wbg.__wbg_length_72e2208bbc0efc61=function(t){return c(t).length},e.wbg.__wbg_set_5cf90238115182c3=function(t,n,_){c(t).set(c(n),_>>>0)},e.wbg.__wbindgen_throw=function(t,n){throw new Error(O(t,n))},e}function H(e,t){return r=e.exports,T.__wbindgen_wasm_module=t,l=null,d=null,r}async function T(e){if(r!==void 0)return r;typeof e>"u"&&(e=new URL("index_bg.wasm",void 0));let t=J();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));let{instance:n,module:_}=await q(await e,t);return H(n,_)}var S=T;var I=!1,V=async e=>{if(I)throw new Error("Already initialized. The `initWasm()` function can be used only once.");await S(await e),I=!0},$=class extends A{constructor(e,t){if(!I)throw new Error("Wasm has not been initialized. Call `initWasm()` function.");let n=t?.font;if(n&&G(n)){let _={...t,font:{...n,fontBuffers:void 0}};super(e,JSON.stringify(_),n.fontBuffers)}else super(e,JSON.stringify(t))}};function G(e){return Object.prototype.hasOwnProperty.call(e,"fontBuffers")}return L(K);})();
